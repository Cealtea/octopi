evee=function(){var e=/click|mouse(down|up|move)/,t=/key(down|up|press)/;return{on:function(e,t,n){return e.addEventListener(t,n),n},off:function(e,t,n){e.removeEventListener(t,n)},fire:function(n,r){var o=e.test(r)?MouseEvent:t.test(r)?KeyboardEvent:Event;n.dispatchEvent(new o(r,{bubbles:!0,cancelable:!0}))}}}(),evee.make=function(){var e=function(e,t){this.data=t;for(var n in e)this[n]=e[n]};return function(t,n){return function(r){n(new e(r,t))}}}(),evee.bind=function(e,t,n,r){return r||(r=n,n={}),evee.on(e,t,evee.make(n,r))},evee.delegate=function(){var e=Element.prototype,t=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;return function(e,n,r,o){return evee.on(e,n,function(n){for(var i=n.target;i!==e;)t.call(i,r)&&o(n,i),i=i.parentNode})}}(),evee.once=function(e,t,n){return evee.on(e,t,function r(o){evee.off(e,t,r),n(o)})},Octopi=function(e){this.uid=0,this.tree={$$:[]},this.table={},e=e||[];for(var t=0;t<e.length;t++)this.add(e[t])},Octopi.prototype={add:function(e,t){var n=++this.uid,r=this.tree;this.table[n]=t||e,r.$$.push(n);for(var o=0;o<e.length;o++){var i=e[o];r=r[i]||(r[i]={$$:[]}),r.$$.push(n)}},get:function(e){for(var t=this.tree,n=0;n<e.length;n++)if(!(t=t[e[n]]))return[];return t.$$.map(function(e){return this.table[e]}.bind(this))}};
